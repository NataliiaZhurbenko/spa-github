(this["webpackJsonpspa-github"]=this["webpackJsonpspa-github"]||[]).push([[0],{61:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),i=a.n(c),s=a(23),o=a(44),u=a(103),l=a(106),p=a(104),j=a(105),d=a(35),b=a(112),x=a(102),O=a(97),h=a(99),f=a(98),g=a(111),m=a(100),v=a(101),y=r.a.createContext(),N=a(3);function k(e){var t=Object(n.useContext)(y).dispatch,a=e.user,r=a.login,c=a.avatar_url,i=a.html_url;function s(){t({type:"open",payload:r})}return Object(N.jsxs)("div",{children:[Object(N.jsxs)(b.a,{button:!0,children:[Object(N.jsx)(O.a,{onClick:s,children:Object(N.jsx)(g.a,{alt:"Remy Sharp",src:c})}),Object(N.jsx)(f.a,{primary:r,onClick:s}),Object(N.jsx)(h.a,{children:Object(N.jsx)(m.a,{edge:"end","aria-label":"open",onClick:function(e,t){var a=window.open(i,"_blank");null!=a&&a.focus()},children:Object(N.jsx)(v.a,{color:"action",fontSize:"large"})})})]}),Object(N.jsx)(x.a,{variant:"inset",component:"li"})]})}a(61);function P(){return Object(N.jsxs)("div",{className:"lds-ripple",children:[Object(N.jsx)("div",{}),Object(N.jsx)("div",{})]})}var C=a(22),U=a.n(C),w=a(33),S=function(e){var t=null;return(e=e.split(",").map((function(e){return e.split(";").map((function(e){return e.trim()}))}))).forEach((function(e){'rel="next"'===e[1]&&(t=e[0].slice(1,-1))})),t},I=function(){var e=Object(n.useContext)(y),t=e.state,a=e.dispatch;function r(){return(r=Object(w.a)(U.a.mark((function e(){var a,n,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.apiUrl);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,r=S(a.headers.get("Link")),e.abrupt("return",[n,r]);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){(function(){return r.apply(this,arguments)})().then((function(e){return a({type:"getUsers",payload:e})}))}),[t.apiUrl])},L=a(107),_=a(110),B=Object(u.a)((function(e){return{root:{flexGrow:1,maxWidth:752,margin:"auto"},demo:{backgroundColor:e.palette.background},paper:{margin:"".concat(e.spacing(1),"px auto"),padding:e.spacing(2)},title:{margin:e.spacing(4,0,2)},rootPagination:{marginTop:e.spacing(5),display:"flex",justifyContent:"center"},buttonNext:{marginLeft:e.spacing(5)},buttonToFirst:{marginRight:e.spacing(5)}}}));function E(){var e=Object(n.useContext)(y),t=e.state,a=e.dispatch;I();var r=10*t.currentPageIndex,c=r-10,i=t.users.slice(c,r),s=B(),u=Object(o.a)(Array(Math.ceil(t.users.length/10)).keys()).map((function(e){return e+t.firstPageNumber}));function b(e){a({type:"setCurrentPageIndex",payload:e})}return t.isLoading?Object(N.jsx)(P,{}):Object(N.jsxs)("div",{className:s.root,children:[Object(N.jsx)(p.a,{className:s.paper,children:Object(N.jsx)(j.a,{container:!0,children:Object(N.jsxs)(j.a,{item:!0,xs:12,children:[Object(N.jsx)(d.a,{variant:"h5",className:s.title,children:"GitHub Users List"}),Object(N.jsx)("div",{className:s.demo,children:Object(N.jsx)(l.a,{children:i.map((function(e){return Object(N.jsx)(k,{user:e},e.id)}))})})]})})}),Object(N.jsxs)("div",{className:s.rootPagination,children:[t.firstPageNumber>1&&Object(N.jsx)(L.a,{className:s.buttonToFirst,variant:"contained",onClick:function(){return a({type:"loadFirstUsers"}),void b(1)},children:"Back to 1-st page"}),u.map((function(e,a){return Object(N.jsx)(_.a,{variant:"outlined",color:"primary",selected:t.currentPageIndex===a+1,page:e,onClick:function(){b(a+1)}},e)})),t.apiUrlNext&&Object(N.jsx)(L.a,{className:s.buttonNext,variant:"contained",onClick:function(){return a({type:"loadNextUsers"}),void b(1)},children:"Next 30 users"})]})]})}var F=a(109),J=a(108),R=a(65),T=Object(u.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"10px solid #ccc",boxShadow:e.shadows[5],padding:e.spacing(2),margin:"auto",minWidth:350},large:{width:e.spacing(7.5),height:e.spacing(7.5)}}})),A=function(){var e=Object(n.useContext)(y).state,t=Object(n.useState)(!0),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)({login:"",avatar_url:"",company:"",created_at:""}),o=Object(s.a)(i,2),u=o[0],l=o[1],p="https://api.github.com/users/".concat(e.currentUser);function j(){return(j=Object(w.a)(U.a.mark((function e(){var t,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p);case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){e.isProfileOpen&&(c(!0),function(){return j.apply(this,arguments)}().then((function(e){return l(e)})).then((function(){return c(!1)})))}),[e.isProfileOpen]),[u,r]};function G(){var e=Object(n.useContext)(y),t=e.state,a=e.dispatch,r=A(),c=Object(s.a)(r,2),i=c[0],o=c[1],u=T();return Object(N.jsx)(F.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:u.modal,open:t.isProfileOpen,onClose:function(){return a({type:"close"})},closeAfterTransition:!0,BackdropComponent:J.a,BackdropProps:{timeout:500},children:Object(N.jsx)(R.a,{in:t.isProfileOpen,children:Object(N.jsx)("div",{className:u.paper,children:o?Object(N.jsx)(P,{}):Object(N.jsxs)(j.a,{container:!0,spacing:2,children:[Object(N.jsx)(j.a,{item:!0,children:Object(N.jsx)("div",{children:Object(N.jsx)(g.a,{alt:"Remy Sharp",src:i.avatar_url,className:u.large})})}),Object(N.jsx)(j.a,{item:!0,xs:12,sm:!0,container:!0,children:Object(N.jsx)(j.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2,children:Object(N.jsxs)(j.a,{item:!0,xs:!0,children:[Object(N.jsx)(d.a,{variant:"h6",color:"textPrimary",children:i.login}),Object(N.jsx)(d.a,{variant:"subtitle2",color:"textPrimary",children:i.company}),Object(N.jsx)(d.a,{variant:"caption",children:i.created_at})]})})})]})})})})}var M=a(12);function W(e,t){var a;switch(t.type){case"open":a=Object(M.a)(Object(M.a)({},e),{},{currentUser:t.payload,isProfileOpen:!0});break;case"close":a=Object(M.a)(Object(M.a)({},e),{},{isProfileOpen:!1});break;case"getUsers":a=Object(M.a)(Object(M.a)({},e),{},{users:t.payload[0],apiUrlNext:t.payload[1],isLoading:!1});break;case"loadNextUsers":a=Object(M.a)(Object(M.a)({},e),{},{apiUrl:e.apiUrlNext,isLoading:!0,firstPageNumber:e.firstPageNumber+3});break;case"loadFirstUsers":a=Object(M.a)(Object(M.a)({},e),{},{apiUrl:"https://api.github.com/users",isLoading:!0,firstPageNumber:1});break;case"setCurrentPageIndex":a=Object(M.a)(Object(M.a)({},e),{},{currentPageIndex:t.payload});break;default:return e}return localStorage.setItem("data",JSON.stringify(a)),a}var z=function(){var e=Object(n.useReducer)(W,function(){var e=localStorage.getItem("data");return e?JSON.parse(e):{isProfileOpen:!1,users:[],currentUser:"",isLoading:!0,apiUrl:"https://api.github.com/users",apiUrlNext:null,firstPageNumber:1,currentPageIndex:1}}(),void 0),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(N.jsx)(y.Provider,{value:{state:a,dispatch:r},children:Object(N.jsxs)("div",{className:"App",children:[Object(N.jsx)(E,{}),Object(N.jsx)(G,{})]})})};i.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(z,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.6e706e8b.chunk.js.map